     <!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>瀑布流</title>
		<style type="text/css">
			*{margin:0;padding:0;}
			body{background:#CCC;}
			li{margin-bottom:10px;list-style:none;}
			ul{width:300px;margin-right:10px;float:left;}
			div{height:200px;width:1240px;margin:0 auto;}
			li img{width:100%;height:100%;}
		</style>
		<script type="text/javascript">
			//思路：1.创建随机高度的li   2.往短的ul里添加随机高度的li	  3.判断是否到底了，到底之后重复2的操作
			function createLi () {
				var oLi=document.createElement('li');
				oLi.style.height=parseInt(100+Math.random()*(440-100))+'px';
				
					oLi.innerHTML='<img src="img/works'+Math.floor(Math.random()*6+1)+'.jpg" />';
				
				return oLi;
			}
			window.onload=function () {
				var oDiv=document.getElementById("div1");
				var aUl=oDiv.children;
				insertToUl(20);
				function insertToUl (n) {
					for(var j=0;j<n;j++){
						var arr=[];
						for(var i=0;i<aUl.length;i++){
							arr.push(aUl[i]);
						}
						arr.sort(function (ul1,ul2) {return ul1.offsetHeight-ul2.offsetHeight;})
						arr[0].appendChild(createLi());
					}
				}
				window.onscroll=function () {
					var srcTop=document.documentElement.scrollTop||document.body.scrollTop;
					var cHeight=document.documentElement.clientHeight;
					var bodyHeight=document.body.scrollHeight;
					if(bodyHeight<=srcTop+cHeight){
						insertToUl(10);
					}
				}
			}
			
		</script>
	</head>
	<body>
		<div id='div1'>
			<ul></ul>
			<ul></ul>
			<ul></ul>
			<ul></ul>
			
		</div>
	</body>
</html>
